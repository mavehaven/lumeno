<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>V.A.R.E. Sales Deck</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #0a0a0a;
            color: #fff;
            line-height: 1.4;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .controls {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 100;
            display: flex;
            gap: 10px;
        }

        .btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.2s;
        }

        .btn:hover { background: #5a6fd8; }

        .slide {
            min-height: 100vh;
            padding: 60px 40px 40px;
            border-bottom: 1px solid #333;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .slide-counter {
            position: absolute;
            top: 20px;
            left: 20px;
            color: #666;
            font-size: 11px;
            font-weight: 500;
        }

        h1 {
            font-size: 4rem;
            font-weight: 100;
            margin-bottom: 1rem;
            color: #667eea;
            letter-spacing: -2px;
        }

        h2 {
            font-size: 2rem;
            font-weight: 300;
            margin-bottom: 2rem;
            color: #fff;
        }

        .subtitle {
            font-size: 1.2rem;
            color: #999;
            margin-bottom: 3rem;
        }

        .data-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin: 3rem 0;
        }

        .data-card {
            background: #111;
            border: 1px solid #333;
            border-radius: 8px;
            padding: 30px;
            position: relative;
        }

        .data-metric {
            font-size: 3rem;
            font-weight: 200;
            color: #667eea;
            margin-bottom: 0.5rem;
        }

        .data-label {
            color: #999;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .chart-container {
            height: 400px;
            margin: 2rem 0;
            background: #111;
            border-radius: 8px;
            padding: 20px;
        }

        .feature-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 2rem 0;
        }

        .feature-item {
            background: linear-gradient(135deg, #667eea20, #764ba220);
            padding: 20px;
            border-radius: 6px;
            border-left: 3px solid #667eea;
        }

        .feature-title {
            font-weight: 600;
            margin-bottom: 8px;
            color: #fff;
        }

        .feature-desc {
            color: #ccc;
            font-size: 0.85rem;
        }

        .market-analysis {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            margin: 3rem 0;
        }

        .progress-bar {
            background: #333;
            height: 6px;
            border-radius: 3px;
            margin: 10px 0;
            overflow: hidden;
        }

        .progress-fill {
            background: linear-gradient(90deg, #667eea, #764ba2);
            height: 100%;
            border-radius: 3px;
            transition: width 2s ease;
        }

        @media (max-width: 768px) {
            .slide { padding: 40px 20px; }
            h1 { font-size: 2.5rem; }
            h2 { font-size: 1.5rem; }
            .market-analysis { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="controls">
        <button class="btn" onclick="toggleAutoplay()">▶ Auto</button>
        <button class="btn" onclick="downloadPDF()">📄 PDF</button>
        <button class="btn" onclick="exportData()">📊 Data</button>
    </div>

    <div class="container">
        <!-- Slide 1: Title -->
        <div class="slide" id="slide1">
            <div class="slide-counter">01 / 06</div>
            <h1>V.A.R.E.</h1>
            <div class="subtitle">Video Autostereoscopic Rendering Engine</div>
            <div class="data-grid">
                <div class="data-card">
                    <div class="data-metric">0ms</div>
                    <div class="data-label">Glasses Required</div>
                </div>
                <div class="data-card">
                    <div class="data-metric">&lt;16ms</div>
                    <div class="data-label">Render Latency</div>
                </div>
                <div class="data-card">
                    <div class="data-metric">∞</div>
                    <div class="data-label">Viewing Angles</div>
                </div>
            </div>
        </div>

        <!-- Slide 2: Market Problem -->
        <div class="slide" id="slide2">
            <div class="slide-counter">02 / 06</div>
            <h2>Market Reality</h2>
            <div class="chart-container">
                <canvas id="problemChart"></canvas>
            </div>
            <div class="data-grid">
                <div class="data-card">
                    <div class="data-metric">87%</div>
                    <div class="data-label">Users Avoid VR Due to Discomfort</div>
                </div>
                <div class="data-card">
                    <div class="data-metric">$2.3B</div>
                    <div class="data-label">Lost Revenue from Poor UX</div>
                </div>
            </div>
        </div>

        <!-- Slide 3: Solution Performance -->
        <div class="slide" id="slide3">
            <div class="slide-counter">03 / 06</div>
            <h2>V.A.R.E. Performance Metrics</h2>
            <div class="chart-container">
                <canvas id="performanceChart"></canvas>
            </div>
            <div class="data-grid">
                <div class="data-card">
                    <div class="data-metric">4K@60</div>
                    <div class="data-label">Max Resolution</div>
                </div>
                <div class="data-card">
                    <div class="data-metric">12GB</div>
                    <div class="data-label">Min RAM Required</div>
                </div>
                <div class="data-card">
                    <div class="data-metric">95%</div>
                    <div class="data-label">Hardware Compatibility</div>
                </div>
            </div>
        </div>

        <!-- Slide 4: Technical Architecture -->
        <div class="slide" id="slide4">
            <div class="slide-counter">04 / 06</div>
            <h2>Architecture Overview</h2>
            <div class="feature-list">
                <div class="feature-item">
                    <div class="feature-title">Parallax Engine</div>
                    <div class="feature-desc">Real-time depth calculation with sub-pixel accuracy</div>
                    <div class="progress-bar"><div class="progress-fill" style="width: 92%"></div></div>
                </div>
                <div class="feature-item">
                    <div class="feature-title">Eye Tracking</div>
                    <div class="feature-desc">Dynamic optimization for viewer position</div>
                    <div class="progress-bar"><div class="progress-fill" style="width: 78%"></div></div>
                </div>
                <div class="feature-item">
                    <div class="feature-title">Light Field Synthesis</div>
                    <div class="feature-desc">Advanced stereo pair decomposition</div>
                    <div class="progress-bar"><div class="progress-fill" style="width: 85%"></div></div>
                </div>
                <div class="feature-item">
                    <div class="feature-title">Hardware Abstraction</div>
                    <div class="feature-desc">Cross-platform compatibility layer</div>
                    <div class="progress-bar"><div class="progress-fill" style="width: 96%"></div></div>
                </div>
            </div>
        </div>

        <!-- Slide 5: Market Analysis -->
        <div class="slide" id="slide5">
            <div class="slide-counter">05 / 06</div>
            <h2>Market Opportunity</h2>
            <div class="market-analysis">
                <div>
                    <div class="chart-container">
                        <canvas id="marketChart"></canvas>
                    </div>
                </div>
                <div>
                    <div class="data-grid">
                        <div class="data-card">
                            <div class="data-metric">$47B</div>
                            <div class="data-label">3D Display Market by 2028</div>
                        </div>
                        <div class="data-card">
                            <div class="data-metric">23%</div>
                            <div class="data-label">CAGR Growth Rate</div>
                        </div>
                        <div class="data-card">
                            <div class="data-metric">156M</div>
                            <div class="data-label">Target Devices by 2025</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 6: ROI Projections -->
        <div class="slide" id="slide6">
            <div class="slide-counter">06 / 06</div>
            <h2>Revenue Projections</h2>
            <div class="chart-container">
                <canvas id="revenueChart"></canvas>
            </div>
            <div class="data-grid">
                <div class="data-card">
                    <div class="data-metric">340%</div>
                    <div class="data-label">ROI Year 3</div>
                </div>
                <div class="data-card">
                    <div class="data-metric">$12M</div>
                    <div class="data-label">Break-even Point</div>
                </div>
                <div class="data-card">
                    <div class="data-metric">18mo</div>
                    <div class="data-label">Time to Market</div>
                </div>
            </div>
        </div>
    </div>

    <script>
      function downloadPDF() {
    const { jsPDF } = window.jspdf;
    const doc = new jsPDF();
    
    // Set font
    doc.setFont("helvetica");
    
    // Helper function to draw a simple chart with better spacing
    function drawBarChart(doc, x, y, width, height, data, labels, title) {
        // Chart title
        doc.setFontSize(12);
        doc.setTextColor(52, 73, 94);
        doc.text(title, x + width/2, y - 15, { align: "center" });
        
        // Chart border
        doc.setDrawColor(200, 200, 200);
        doc.rect(x, y, width, height);
        
        const barWidth = (width - 20) / data.length; // Add padding
        const maxValue = Math.max(...data);
        
        data.forEach((value, index) => {
            const barHeight = (value / maxValue) * (height - 20); // Leave space for labels
            const barX = x + 10 + index * barWidth + 5;
            const barY = y + height - barHeight - 15;
            
            // Draw bar
            doc.setFillColor(102, 126, 234);
            doc.rect(barX, barY, barWidth - 10, barHeight, 'F');
            
            // Draw value on top
            doc.setFontSize(8);
            doc.setTextColor(85, 85, 85);
            doc.text(value.toString(), barX + (barWidth - 10)/2, barY - 3, { align: "center" });
            
            // Draw label at bottom
            doc.text(labels[index], barX + (barWidth - 10)/2, y + height + 8, { align: "center" });
        });
    }
    
    // Helper function to draw a simple pie chart with better positioning
    function drawPieChart(doc, centerX, centerY, radius, data, labels, colors, title) {
        // Title
        doc.setFontSize(12);
        doc.setTextColor(52, 73, 94);
        doc.text(title, centerX, centerY - radius - 20, { align: "center" });
        
        const total = data.reduce((sum, val) => sum + val, 0);
        let currentAngle = -Math.PI/2; // Start at top
        
        data.forEach((value, index) => {
            const sliceAngle = (value / total) * 2 * Math.PI;
            const midAngle = currentAngle + sliceAngle / 2;
            
            // Draw colored rectangle as slice indicator
            doc.setFillColor(colors[index][0], colors[index][1], colors[index][2]);
            const indicatorX = centerX + (radius * 0.7) * Math.cos(midAngle);
            const indicatorY = centerY + (radius * 0.7) * Math.sin(midAngle);
            doc.rect(indicatorX - 4, indicatorY - 4, 8, 8, 'F');
            
            // Add label with line
            const labelX = centerX + (radius + 25) * Math.cos(midAngle);
            const labelY = centerY + (radius + 25) * Math.sin(midAngle);
            
            doc.setFontSize(9);
            doc.setTextColor(85, 85, 85);
            doc.text(`${labels[index]}`, labelX, labelY, { align: "center" });
            doc.text(`${Math.round(value/total*100)}%`, labelX, labelY + 8, { align: "center" });
            
            // Draw line from slice to label
            doc.setDrawColor(150, 150, 150);
            doc.line(centerX + radius * Math.cos(midAngle), 
                    centerY + radius * Math.sin(midAngle), 
                    labelX - 15, labelY);
            
            currentAngle += sliceAngle;
        });
        
        // Draw circle border
        doc.setDrawColor(200, 200, 200);
        doc.circle(centerX, centerY, radius);
    }
    
    // Helper function to draw tech stack diagram with better spacing
    function drawTechStack(doc, x, y) {
        const layers = [
            { name: "Display Layer", color: [255, 107, 107] },
            { name: "Rendering Engine", color: [102, 126, 234] },
            { name: "Eye Tracking", color: [46, 204, 113] },
            { name: "Core Algorithm", color: [241, 196, 15] }
        ];
        
        layers.forEach((layer, index) => {
            const layerY = y + index * 30;
            
            // Draw layer box
            doc.setFillColor(layer.color[0], layer.color[1], layer.color[2]);
            doc.rect(x, layerY, 120, 22, 'F');
            
            // Add layer text
            doc.setFontSize(10);
            doc.setTextColor(255, 255, 255);
            doc.text(layer.name, x + 60, layerY + 14, { align: "center" });
            
            // Draw arrow between layers
            if (index < layers.length - 1) {
                doc.setDrawColor(85, 85, 85);
                doc.line(x + 60, layerY + 22, x + 60, layerY + 30);
                // Arrow head
                doc.line(x + 57, layerY + 27, x + 60, layerY + 30);
                doc.line(x + 63, layerY + 27, x + 60, layerY + 30);
            }
        });
    }
    
   function downloadPDF() {
    const { jsPDF } = window.jspdf;
    const doc = new jsPDF();
    
    // Set font
    doc.setFont("helvetica");
    
    // Helper function to draw a simple chart with better spacing
    function drawBarChart(doc, x, y, width, height, data, labels, title) {
        // Chart title
        doc.setFontSize(12);
        doc.setTextColor(52, 73, 94);
        doc.text(title, x + width/2, y - 15, { align: "center" });
        
        // Chart border
        doc.setDrawColor(200, 200, 200);
        doc.rect(x, y, width, height);
        
        const barWidth = (width - 20) / data.length; // Add padding
        const maxValue = Math.max(...data);
        
        data.forEach((value, index) => {
            const barHeight = (value / maxValue) * (height - 20); // Leave space for labels
            const barX = x + 10 + index * barWidth + 5;
            const barY = y + height - barHeight - 15;
            
            // Draw bar
            doc.setFillColor(102, 126, 234);
            doc.rect(barX, barY, barWidth - 10, barHeight, 'F');
            
            // Draw value on top
            doc.setFontSize(8);
            doc.setTextColor(85, 85, 85);
            doc.text(value.toString(), barX + (barWidth - 10)/2, barY - 3, { align: "center" });
            
            // Draw label at bottom
            doc.text(labels[index], barX + (barWidth - 10)/2, y + height + 8, { align: "center" });
        });
    }
    
    // Helper function to draw a simple pie chart with better positioning
    function drawPieChart(doc, centerX, centerY, radius, data, labels, colors, title) {
        // Title
        doc.setFontSize(12);
        doc.setTextColor(52, 73, 94);
        doc.text(title, centerX, centerY - radius - 20, { align: "center" });
        
        const total = data.reduce((sum, val) => sum + val, 0);
        let currentAngle = -Math.PI/2; // Start at top
        
        data.forEach((value, index) => {
            const sliceAngle = (value / total) * 2 * Math.PI;
            const midAngle = currentAngle + sliceAngle / 2;
            
            // Draw colored rectangle as slice indicator
            doc.setFillColor(colors[index][0], colors[index][1], colors[index][2]);
            const indicatorX = centerX + (radius * 0.7) * Math.cos(midAngle);
            const indicatorY = centerY + (radius * 0.7) * Math.sin(midAngle);
            doc.rect(indicatorX - 4, indicatorY - 4, 8, 8, 'F');
            
            // Add label with line
            const labelX = centerX + (radius + 25) * Math.cos(midAngle);
            const labelY = centerY + (radius + 25) * Math.sin(midAngle);
            
            doc.setFontSize(9);
            doc.setTextColor(85, 85, 85);
            doc.text(`${labels[index]}`, labelX, labelY, { align: "center" });
            doc.text(`${Math.round(value/total*100)}%`, labelX, labelY + 8, { align: "center" });
            
            // Draw line from slice to label
            doc.setDrawColor(150, 150, 150);
            doc.line(centerX + radius * Math.cos(midAngle), 
                    centerY + radius * Math.sin(midAngle), 
                    labelX - 15, labelY);
            
            currentAngle += sliceAngle;
        });
        
        // Draw circle border
        doc.setDrawColor(200, 200, 200);
        doc.circle(centerX, centerY, radius);
    }
    
    // Helper function to draw tech stack diagram with better spacing
    function drawTechStack(doc, x, y) {
        const layers = [
            { name: "Display Layer", color: [255, 107, 107] },
            { name: "Rendering Engine", color: [102, 126, 234] },
            { name: "Eye Tracking", color: [46, 204, 113] },
            { name: "Core Algorithm", color: [241, 196, 15] }
        ];
        
        layers.forEach((layer, index) => {
            const layerY = y + index * 30;
            
            // Draw layer box
            doc.setFillColor(layer.color[0], layer.color[1], layer.color[2]);
            doc.rect(x, layerY, 120, 22, 'F');
            
            // Add layer text
            doc.setFontSize(10);
            doc.setTextColor(255, 255, 255);
            doc.text(layer.name, x + 60, layerY + 14, { align: "center" });
            
            // Draw arrow between layers
            if (index < layers.length - 1) {
                doc.setDrawColor(85, 85, 85);
                doc.line(x + 60, layerY + 22, x + 60, layerY + 30);
                // Arrow head
                doc.line(x + 57, layerY + 27, x + 60, layerY + 30);
                doc.line(x + 63, layerY + 27, x + 60, layerY + 30);
            }
        });
    }
    
    // SLIDE 1: Title Page
    doc.setFontSize(28);
    doc.setTextColor(102, 126, 234);
    doc.text("V.A.R.E.", 105, 60, { align: "center" });
    
    doc.setFontSize(16);
    doc.setTextColor(100, 100, 100);
    doc.text("Video Autostereoscopic Rendering Engine", 105, 80, { align: "center" });
    
    doc.setFontSize(14);
    doc.setTextColor(255, 107, 107);
    doc.text("Revolutionizing Depth. Real-Time. No Glasses.", 105, 100, { align: "center" });
    
    // Add decorative line
    doc.setDrawColor(102, 126, 234);
    doc.setLineWidth(3);
    doc.line(40, 120, 170, 120);
    
    // Add geometric shapes representing 3D (better positioned)
    doc.setFillColor(102, 126, 234, 0.4);
    doc.rect(60, 150, 25, 25);
    doc.setFillColor(255, 107, 107, 0.4);
    doc.rect(75, 160, 25, 25);
    doc.setFillColor(46, 204, 113, 0.4);
    doc.rect(90, 170, 25, 25);
    
    // SLIDE 2: Problem Statement
    doc.addPage();
    doc.setFontSize(20);
    doc.setTextColor(52, 73, 94);
    doc.text("The Problem", 20, 30);
    
    doc.setFontSize(12);
    doc.setTextColor(85, 85, 85);
    doc.text("• Flat 2D content limits immersion and engagement", 30, 50);
    doc.text("• VR headsets create isolation, discomfort, and barriers", 30, 65);
    doc.text("• True 3D visualization remains expensive and inaccessible", 30, 80);
    doc.text("• Current solutions lack real-time performance", 30, 95);
    
    // Market pain points chart (better positioned)
    const painPointData = [85, 72, 68, 91];
    const painPointLabels = ["2D Flat", "VR Issues", "Cost", "Access"];
    drawBarChart(doc, 20, 130, 160, 70, painPointData, painPointLabels, "User Experience Pain Points (% Reporting Issues)");
    
    // SLIDE 3: Solution Overview
    doc.addPage();
    doc.setFontSize(20);
    doc.setTextColor(52, 73, 94);
    doc.text("V.A.R.E. Solution", 20, 30);
    
    doc.setFontSize(12);
    doc.setTextColor(85, 85, 85);
    doc.text("• Glasses-free, real-time 3D rendering technology", 30, 50);
    doc.text("• Advanced video autostereoscopic algorithms", 30, 65);
    doc.text("• Seamless integration with existing displays", 30, 80);
    doc.text("• Cross-platform compatibility and SDK support", 30, 95);
    
    // Technology stack (better positioned)
    doc.setFontSize(14);
    doc.setTextColor(52, 73, 94);
    doc.text("Technology Architecture", 20, 125);
    drawTechStack(doc, 40, 135);
    
    // SLIDE 4: Technical Features
    doc.addPage();
    doc.setFontSize(20);
    doc.setTextColor(52, 73, 94);
    doc.text("Technical Features", 20, 30);
    
    doc.setFontSize(12);
    doc.setTextColor(85, 85, 85);
    doc.text("• Real-time parallax rendering with dynamic optimization", 30, 50);
    doc.text("• Advanced eye-tracking for personalized viewing", 30, 65);
    doc.text("• Hardware-agnostic modular architecture", 30, 80);
    doc.text("• Stereo pair decomposition + light field synthesis", 30, 95);
    
    // Processing flow (better spaced)
    doc.setFontSize(12);
    doc.setTextColor(52, 73, 94);
    doc.text("Processing Pipeline", 20, 125);
    
    const flowSteps = ["Input", "Track", "Render", "Display"];
    const flowColors = [[241, 196, 15], [46, 204, 113], [102, 126, 234], [255, 107, 107]];
    
    flowSteps.forEach((step, index) => {
        const boxX = 30 + index * 45;
        const boxY = 140;
        
        doc.setFillColor(flowColors[index][0], flowColors[index][1], flowColors[index][2]);
        doc.rect(boxX, boxY, 40, 25, 'F');
        
        doc.setFontSize(10);
        doc.setTextColor(255, 255, 255);
        doc.text(step, boxX + 20, boxY + 16, { align: "center" });
        
        // Arrow
        if (index < flowSteps.length - 1) {
            doc.setDrawColor(85, 85, 85);
            doc.line(boxX + 40, boxY + 12, boxX + 45, boxY + 12);
            doc.line(boxX + 42, boxY + 10, boxX + 45, boxY + 12);
            doc.line(boxX + 42, boxY + 14, boxX + 45, boxY + 12);
        }
    });
    
    // SLIDE 5: Performance Metrics
    doc.addPage();
    doc.setFontSize(20);
    doc.setTextColor(52, 73, 94);
    doc.text("Performance Metrics", 20, 30);
    
    doc.setFontSize(12);
    doc.setTextColor(85, 85, 85);
    doc.text("• 120 FPS real-time rendering capability", 30, 50);
    doc.text("• <16ms latency for responsive interaction", 30, 65);
    doc.text("• Low power consumption (4W average)", 30, 80);
    doc.text("• 99% tracking accuracy in optimal conditions", 30, 95);
    
    // Performance chart (better positioned)
    const perfData = [120, 16, 4, 99];
    const perfLabels = ["FPS", "Latency(ms)", "Power(W)", "Accuracy(%)"];
    drawBarChart(doc, 20, 130, 160, 70, perfData, perfLabels, "Key Performance Indicators");
    
    // SLIDE 6: Target Markets
    doc.addPage();
    doc.setFontSize(20);
    doc.setTextColor(52, 73, 94);
    doc.text("Target Markets", 20, 30);
    
    // Left column - Market segments
    doc.setFontSize(14);
    doc.setTextColor(102, 126, 234);
    doc.text("Home Entertainment", 20, 55);
    doc.setFontSize(10);
    doc.setTextColor(85, 85, 85);
    doc.text("Transform personal viewing into immersive 3D experiences", 25, 68);
    doc.text("without expensive headsets or glasses", 25, 78);
    
    doc.setFontSize(14);
    doc.setTextColor(255, 107, 107);
    doc.text("Digital Advertising", 20, 100);
    doc.setFontSize(10);
    doc.setTextColor(85, 85, 85);
    doc.text("Capture attention with depth-enhanced retail displays", 25, 113);
    doc.text("and interactive billboard experiences", 25, 123);
    
    doc.setFontSize(14);
    doc.setTextColor(46, 204, 113);
    doc.text("Real Estate & Architecture", 20, 145);
    doc.setFontSize(10);
    doc.setTextColor(85, 85, 85);
    doc.text("Provide spatial property walkthroughs and", 25, 158);
    doc.text("architectural visualization before construction", 25, 168);
    
    // Right side - Market size pie chart (repositioned to avoid overlap)
    const marketData = [15, 8, 5];
    const marketLabels = ["Home Cinema", "Advertising", "Real Estate"];
    const marketColors = [[102, 126, 234], [255, 107, 107], [46, 204, 113]];
    
    drawPieChart(doc, 140, 110, 25, marketData, marketLabels, marketColors, "Market Size ($B)");
    
    // SLIDE 7: Competitive Advantage
    doc.addPage();
    doc.setFontSize(20);
    doc.setTextColor(52, 73, 94);
    doc.text("Competitive Advantage", 20, 30);
    
    // Comparison table (better formatted)
    doc.setFontSize(12);
    doc.setTextColor(52, 73, 94);
    doc.text("Solution Comparison", 20, 50);
    
    const competitors = ["V.A.R.E.", "Traditional VR", "Holographic"];
    const features = ["No Glasses", "Real-time", "Affordable", "Portable"];
    const scores = [
        [100, 100, 90, 95],  // V.A.R.E.
        [0, 85, 40, 70],     // Traditional VR
        [80, 60, 20, 30]     // Holographic
    ];
    
    // Table headers
    doc.setFontSize(10);
    doc.setTextColor(52, 73, 94);
    doc.text("Feature", 30, 70);
    competitors.forEach((comp, index) => {
        doc.text(comp, 80 + index * 35, 70);
    });
    
    // Table rows with better spacing
    features.forEach((feature, rowIndex) => {
        const y = 85 + rowIndex * 12;
        doc.setTextColor(85, 85, 85);
        doc.text(feature, 30, y);
        
        scores.forEach((compScores, colIndex) => {
            const score = compScores[rowIndex];
            const x = 80 + colIndex * 35;
            
            // Color code the scores
            if (score >= 80) doc.setTextColor(46, 204, 113);
            else if (score >= 60) doc.setTextColor(241, 196, 15);
            else doc.setTextColor(255, 107, 107);
            
            doc.text(`${score}%`, x, y);
        });
    });
    
    // SLIDE 8: Business Model & Revenue
    doc.addPage();
    doc.setFontSize(20);
    doc.setTextColor(52, 73, 94);
    doc.text("Business Model", 20, 30);
    
    doc.setFontSize(12);
    doc.setTextColor(85, 85, 85);
    doc.text("• Enterprise licensing for large-scale deployments", 30, 50);
    doc.text("• Developer SDK subscriptions and support", 30, 65);
    doc.text("• Strategic hardware partnerships", 30, 80);
    doc.text("• Custom integration and consulting services", 30, 95);
    
    // Revenue projection (better positioned)
    const revenueData = [2, 8, 15, 28, 45];
    const revenueLabels = ["Year 1", "Year 2", "Year 3", "Year 4", "Year 5"];
    drawBarChart(doc, 20, 130, 160, 70, revenueData, revenueLabels, "5-Year Revenue Projection ($M)");
    
    // Save the PDF
    doc.save("VARE_Sales_Deck_Fixed.pdf");
}
        // V.A.R.E. Presentation JavaScript
let currentSlide = 1;
const totalSlides = 6;
let autoplayInterval = null;
let isAutoplay = false;

// Chart instances
let problemChart, performanceChart, marketChart, revenueChart;

// Initialize presentation
document.addEventListener('DOMContentLoaded', function() {
    initializeSlides();
    initializeCharts();
    setupKeyboardNavigation();
    
    // Show first slide
    showSlide(1);
});

// Slide Management
function showSlide(slideNumber) {
    // Hide all slides
    const slides = document.querySelectorAll('.slide');
    slides.forEach(slide => slide.classList.remove('active'));
    
    // Show target slide
    const targetSlide = document.getElementById(`slide${slideNumber}`);
    if (targetSlide) {
        targetSlide.classList.add('active');
        currentSlide = slideNumber;
        
        // Animate charts when slide becomes visible
        setTimeout(() => animateSlideCharts(slideNumber), 300);
    }
}

function nextSlide() {
    if (currentSlide < totalSlides) {
        showSlide(currentSlide + 1);
    } else {
        showSlide(1); // Loop back to first slide
    }
}

function prevSlide() {
    if (currentSlide > 1) {
        showSlide(currentSlide - 1);
    } else {
        showSlide(totalSlides); // Loop to last slide
    }
}

function initializeSlides() {
    // Add click handlers for navigation
    document.addEventListener('click', function(e) {
        if (e.target.closest('.slide')) {
            const rect = e.target.closest('.slide').getBoundingClientRect();
            const clickX = e.clientX - rect.left;
            const slideWidth = rect.width;
            
            if (clickX > slideWidth * 0.7) {
                nextSlide();
            } else if (clickX < slideWidth * 0.3) {
                prevSlide();
            }
        }
    });
}

// Autoplay Functions
function toggleAutoplay() {
    const btn = document.querySelector('button[onclick="toggleAutoplay()"]');
    
    if (isAutoplay) {
        clearInterval(autoplayInterval);
        isAutoplay = false;
        btn.innerHTML = '▶ Auto';
        btn.classList.remove('active');
    } else {
        autoplayInterval = setInterval(nextSlide, 4000);
        isAutoplay = true;
        btn.innerHTML = '⏸ Auto';
        btn.classList.add('active');
    }
}

// Keyboard Navigation
function setupKeyboardNavigation() {
    document.addEventListener('keydown', function(e) {
        switch(e.key) {
            case 'ArrowRight':
            case ' ':
                e.preventDefault();
                nextSlide();
                break;
            case 'ArrowLeft':
                e.preventDefault();
                prevSlide();
                break;
            case 'Home':
                e.preventDefault();
                showSlide(1);
                break;
            case 'End':
                e.preventDefault();
                showSlide(totalSlides);
                break;
            case 'Escape':
                if (isAutoplay) toggleAutoplay();
                break;
        }
    });
}

// Chart Initialization
function initializeCharts() {
    // Problem Chart (Slide 2)
    const problemCtx = document.getElementById('problemChart');
    if (problemCtx) {
        problemChart = new Chart(problemCtx, {
            type: 'doughnut',
            data: {
                labels: ['VR Discomfort', 'Motion Sickness', 'Hardware Issues', 'Other'],
                datasets: [{
                    data: [87, 34, 23, 12],
                    backgroundColor: ['#ff6b6b', '#4ecdc4', '#45b7d1', '#96ceb4'],
                    borderWidth: 0
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: { color: '#ffffff', font: { size: 12 } }
                    }
                },
                animation: { duration: 0 }
            }
        });
    }

    // Performance Chart (Slide 3)
    const performanceCtx = document.getElementById('performanceChart');
    if (performanceCtx) {
        performanceChart = new Chart(performanceCtx, {
            type: 'radar',
            data: {
                labels: ['Latency', 'Quality', 'Compatibility', 'Efficiency', 'Scalability'],
                datasets: [{
                    label: 'V.A.R.E.',
                    data: [95, 92, 95, 88, 85],
                    backgroundColor: 'rgba(79, 172, 254, 0.2)',
                    borderColor: '#4facfe',
                    borderWidth: 2
                }, {
                    label: 'Traditional VR',
                    data: [65, 70, 60, 55, 50],
                    backgroundColor: 'rgba(255, 107, 107, 0.2)',
                    borderColor: '#ff6b6b',
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        labels: { color: '#ffffff', font: { size: 12 } }
                    }
                },
                scales: {
                    r: {
                        beginAtZero: true,
                        max: 100,
                        ticks: { color: '#ffffff' },
                        grid: { color: 'rgba(255, 255, 255, 0.1)' },
                        pointLabels: { color: '#ffffff' }
                    }
                },
                animation: { duration: 0 }
            }
        });
    }

    // Market Chart (Slide 5)
    const marketCtx = document.getElementById('marketChart');
    if (marketCtx) {
        marketChart = new Chart(marketCtx, {
            type: 'line',
            data: {
                labels: ['2024', '2025', '2026', '2027', '2028'],
                datasets: [{
                    label: '3D Display Market ($B)',
                    data: [28, 34, 39, 43, 47],
                    borderColor: '#4facfe',
                    backgroundColor: 'rgba(79, 172, 254, 0.1)',
                    borderWidth: 3,
                    fill: true,
                    tension: 0.4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        labels: { color: '#ffffff', font: { size: 12 } }
                    }
                },
                scales: {
                    x: {
                        ticks: { color: '#ffffff' },
                        grid: { color: 'rgba(255, 255, 255, 0.1)' }
                    },
                    y: {
                        ticks: { color: '#ffffff' },
                        grid: { color: 'rgba(255, 255, 255, 0.1)' }
                    }
                },
                animation: { duration: 0 }
            }
        });
    }

    // Revenue Chart (Slide 6)
    const revenueCtx = document.getElementById('revenueChart');
    if (revenueCtx) {
        revenueChart = new Chart(revenueCtx, {
            type: 'bar',
            data: {
                labels: ['Year 1', 'Year 2', 'Year 3', 'Year 4', 'Year 5'],
                datasets: [{
                    label: 'Revenue ($M)',
                    data: [2, 8, 18, 32, 52],
                    backgroundColor: ['#ff6b6b', '#4ecdc4', '#45b7d1', '#96ceb4', '#feca57'],
                    borderWidth: 0
                }, {
                    label: 'Investment ($M)',
                    data: [5, 3, 2, 1, 1],
                    backgroundColor: 'rgba(255, 255, 255, 0.2)',
                    borderWidth: 0
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        labels: { color: '#ffffff', font: { size: 12 } }
                    }
                },
                scales: {
                    x: {
                        ticks: { color: '#ffffff' },
                        grid: { color: 'rgba(255, 255, 255, 0.1)' }
                    },
                    y: {
                        ticks: { color: '#ffffff' },
                        grid: { color: 'rgba(255, 255, 255, 0.1)' }
                    }
                },
                animation: { duration: 0 }
            }
        });
    }
}

// Chart Animation
function animateSlideCharts(slideNumber) {
    const charts = [null, null, problemChart, performanceChart, null, marketChart, revenueChart];
    const chart = charts[slideNumber];
    
    if (chart) {
        chart.options.animation.duration = 1500;
        chart.update();
        setTimeout(() => {
            chart.options.animation.duration = 0;
        }, 1500);
    }
}

// Progress Bar Animation
function animateProgressBars() {
    const progressBars = document.querySelectorAll('.progress-fill');
    progressBars.forEach((bar, index) => {
        const width = bar.style.width;
        bar.style.width = '0%';
        setTimeout(() => {
            bar.style.transition = 'width 1s ease-out';
            bar.style.width = width;
        }, index * 200);
    });
}

// PDF Export Function
function downloadPDF() {
    // Create a simple PDF export using browser print
    const originalTitle = document.title;
    document.title = 'V.A.R.E. Presentation';
    
    // Temporarily show all slides for PDF
    const slides = document.querySelectorAll('.slide');
    slides.forEach(slide => slide.classList.add('pdf-export'));
    
    // Stop autoplay during export
    const wasAutoplay = isAutoplay;
    if (isAutoplay) toggleAutoplay();
    
    window.print();
    
    // Restore state
    setTimeout(() => {
        slides.forEach(slide => slide.classList.remove('pdf-export'));
        document.title = originalTitle;
        if (wasAutoplay) toggleAutoplay();
    }, 1000);
}

// Data Export Function
function exportData() {
    const data = {
        presentation: "V.A.R.E. - Video Autostereoscopic Rendering Engine",
        metrics: {
            glassesRequired: "0ms",
            renderLatency: "<16ms",
            viewingAngles: "∞",
            usersAvoidVR: "87%",
            lostRevenue: "$2.3B",
            maxResolution: "4K@60",
            minRAM: "12GB",
            hardwareCompatibility: "95%",
            marketSize2028: "$47B",
            cagrGrowth: "23%",
            targetDevices2025: "156M",
            roiYear3: "340%",
            breakEvenPoint: "$12M",
            timeToMarket: "18mo"
        },
        architecture: {
            parallaxEngine: 92,
            eyeTracking: 78,
            lightFieldSynthesis: 85,
            hardwareAbstraction: 96
        },
        marketProjection: [28, 34, 39, 43, 47],
        revenueProjection: [2, 8, 18, 32, 52],
        investmentRequired: [5, 3, 2, 1, 1]
    };
    
    const dataStr = JSON.stringify(data, null, 2);
    const dataBlob = new Blob([dataStr], {type: 'application/json'});
    
    const link = document.createElement('a');
    link.href = URL.createObjectURL(dataBlob);
    link.download = 'vare_presentation_data.json';
    link.click();
}

// Touch/Swipe Support for Mobile
let touchStartX = 0;
let touchEndX = 0;

document.addEventListener('touchstart', function(e) {
    touchStartX = e.changedTouches[0].screenX;
});

document.addEventListener('touchend', function(e) {
    touchEndX = e.changedTouches[0].screenX;
    handleSwipe();
});

function handleSwipe() {
    const swipeThreshold = 50;
    const diff = touchStartX - touchEndX;
    
    if (Math.abs(diff) > swipeThreshold) {
        if (diff > 0) {
            nextSlide(); // Swipe left - next slide
        } else {
            prevSlide(); // Swipe right - previous slide
        }
    }
}

// Utility Functions
function formatNumber(num) {
    if (num >= 1000000) {
        return (num / 1000000).toFixed(1) + 'M';
    }
    if (num >= 1000) {
        return (num / 1000).toFixed(1) + 'K';
    }
    return num.toString();
}

function animateCounter(element, target, duration = 2000) {
    const start = 0;
    const startTime = performance.now();
    
    function update(currentTime) {
        const elapsed = currentTime - startTime;
        const progress = Math.min(elapsed / duration, 1);
        
        const current = Math.floor(start + (target - start) * progress);
        element.textContent = formatNumber(current);
        
        if (progress < 1) {
            requestAnimationFrame(update);
        }
    }
    
    requestAnimationFrame(update);
}

// Initialize counter animations when slides become active
function initializeCounters() {
    const counters = document.querySelectorAll('.data-metric');
    counters.forEach(counter => {
        const text = counter.textContent;
        const number = parseInt(text.replace(/[^\d]/g, ''));
        if (number && !isNaN(number)) {
            counter.setAttribute('data-target', number);
        }
    });
}

// Error Handling
window.addEventListener('error', function(e) {
    console.error('Presentation Error:', e.error);
});

// Prevent context menu on presentation
document.addEventListener('contextmenu', function(e) {
    e.preventDefault();
});

// Initialize everything when DOM is ready
if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initializeCounters);
} else {
    initializeCounters();
}
    </script>
</body>
</html>
